import { ExampleHTTP } from "/examples/actions/redirect.mdx";
import VariableInterpolation from "/src/components/VariableInterpolation";
import HttpHeaderTemplates from "./../../_http_header_templates.mdx";
import NamedVariblesTemplates from "./_named-variables.mdx";

# Redirect

## Overview

The Redirect policy action enables transforming your URL using regular expressions and redirect through location header.

## Example

Use this action config in your [Traffic Policy](/docs/http/traffic-policy/index.mdx)

<ExampleHTTP />

## Behavior

When executed this action will abort the request and replace all matches on the inbound URL with the configured replacements. Before regex replacement, all variables or expressions will be replaced with their corresponding values. [Cel expressions](https://ngrok.com/docs/http/traffic-policy/expressions) are used for `ngrok`, and [named variables](#named-variables) for `nginx`.

## Reference

### Supported Directions

- Inbound

### Configuration

| Type       |
| ---------- |
| `redirect` |

| Parameter     | &nbsp;                    | Description                                                                                                                                       |
| ------------- | ------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------- |
| `from`        | string                    | A regular expression string to match inside of the URL.                                                                                           |
| `to`          | string                    | A regular expression string to replace the `from` match with. Also contains special [named variables](#named-variables) outside of regular regex. |
| `status_code` | int                       | 3xx status code used for redirecting, 302 by default.                                                                                             |
| `headers`     | Map&lt;string, string&gt; | Headers to be added to the request.                                                                                                               |
| `format`      | string                    | Optional value of `nginx` or `ngrok` (default: `ngrok`). Determines interpolation format in `to`/`from` fields.                                   |

<NamedVariblesTemplates />
<VariableInterpolation type="redirect" />
### Variables
<HttpHeaderTemplates />
